const express = require("express");
const Renter = require('./models/renter');
const RenterInfo = require('./models/renterInfo');
const router = express.Router();
const bodyParser = require("body-parser");
router.use(bodyParser.json());

router.get('/saveRProfile', (req, res) => {
    const data = req.body;

    const newRenterInfo = new RenterInfo(data);
    newRenterInfo.save();
    const newRenter = new Renter({
        username: "name",
        password: "password",
        renterInfo: newRenterInfo
    });

    newRenter.save((err) => {
        if (err) {
            console.error('ERROR SAVING: ', err);
            res.status(500).json({error: 'ERROR SAVING'});
        } else {
            console.log("DATA SAVED YAY");
            res.json({message: 'DATA SAVED'});
        }
    })
})

module.exports = router;